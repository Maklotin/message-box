{"ast":null,"code":"import _objectSpread from\"C:/Users/mikke/Documents/GitHub/message-box/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/mikke/Documents/GitHub/message-box/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./App';import'./App.css';import React,{useState}from'react';import{useEffect}from'react';import{db}from'./firebase';import{ref,onValue,off}from\"firebase/database\";import{v1 as uuidv1}from'uuid';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MsgBoard=function MsgBoard(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),messages=_useState2[0],setMessages=_useState2[1];useEffect(function(){var messagesRef=ref(db);onValue(messagesRef,function(snapshot){var messagesObject=snapshot.val();if(messagesObject){var messagesList=Object.keys(messagesObject).map(function(key){return _objectSpread(_objectSpread({},messagesObject[key]),{},{uuid:key});}).sort(function(a,b){return a.timestamp-b.timestamp;});setMessages(messagesList);}});return function(){return off(messagesRef);};},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"innhold\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"topp_innhold\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Beskjeder\"}),/*#__PURE__*/_jsx(\"hr\",{id:\"strek\"})]}),/*#__PURE__*/_jsx(\"div\",{id:\"beskjeder\",children:messages.slice(0).reverse().map(function(message){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{id:message.merke,className:\"meldingboks\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"melding\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"topp_meldingboks\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"beskjed_tittel\",children:message.tittel}),/*#__PURE__*/_jsxs(\"div\",{className:\"navn_og_kontor\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"navn\",children:[\"Skrevet av: \",message.forfatter]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Kontor: \",message.kontor]})]})]}),/*#__PURE__*/_jsx(\"p\",{id:\"selve_beskjed\",children:message.innhold})]})})},message.uuid);})})]})});};export default MsgBoard;","map":{"version":3,"names":["React","useState","useEffect","db","ref","onValue","off","v1","uuidv1","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MsgBoard","_useState","_useState2","_slicedToArray","messages","setMessages","messagesRef","snapshot","messagesObject","val","messagesList","Object","keys","map","key","_objectSpread","uuid","sort","a","b","timestamp","children","className","id","slice","reverse","message","merke","tittel","forfatter","kontor","innhold"],"sources":["C:/Users/mikke/Documents/GitHub/message-box/src/MsgBoard.js"],"sourcesContent":["import './App'\r\nimport './App.css';\r\nimport React, { useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport { db } from './firebase';\r\nimport { ref, onValue, off } from \"firebase/database\"\r\nimport { v1 as uuidv1 } from 'uuid';\r\n\r\n\r\n\r\nconst MsgBoard = () => {\r\n  const [messages, setMessages] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const messagesRef = ref(db);\r\n    onValue(messagesRef, (snapshot) => {\r\n      const messagesObject = snapshot.val();\r\n      if (messagesObject) {\r\n        const messagesList = Object.keys(messagesObject)\r\n          .map((key) => ({ ...messagesObject[key], uuid: key }))\r\n          .sort((a, b) => a.timestamp - b.timestamp);\r\n        setMessages(messagesList);\r\n      }\r\n    });\r\n    return () => off(messagesRef);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"innhold\">\r\n        <div id=\"topp_innhold\">\r\n          <h1>Beskjeder</h1>\r\n          <hr id=\"strek\"></hr>\r\n        </div>\r\n        <div id=\"beskjeder\">\r\n          {messages.slice(0).reverse().map((message) => (\r\n            <div key={message.uuid}>\r\n              <div id={message.merke} className=\"meldingboks\">\r\n                <div className=\"melding\">\r\n                  <div className=\"topp_meldingboks\">\r\n                    <h3 className=\"beskjed_tittel\">{message.tittel}</h3>\r\n                    <div className=\"navn_og_kontor\">\r\n                      <p className=\"navn\">Skrevet av: {message.forfatter}</p>\r\n                      <p>Kontor: {message.kontor}</p>\r\n                    </div>\r\n                  </div>\r\n                  <p id=\"selve_beskjed\">{message.innhold}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n\r\n}\r\n\r\nexport default MsgBoard;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}